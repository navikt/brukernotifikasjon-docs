{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Introduksjon Brukernotifikasjoner gj\u00f8r det mulig for andre team \u00e5 sende Beskjeder, Oppgaver eller Statusoppdateringer til en spesifikk bruker, og f\u00e5 vist dette fram p\u00e5 forsiden av DittNAV. Dette gj\u00f8res gjennom at det blir publisert et event p\u00e5 et sett med topic-er, deretter vil DittNAV ta seg av \u00e5 vise dette for sluttbruker. Teamene kan selv deaktivere eventene igjen, hvis eventene ikke er relevante lengre. Deaktiverte eventer vil fortsatt v\u00e6re tilgjengelig fra historikk-visningen p\u00e5 DittNAV. Les mer om eventtyper her eller kom i gang med brukernotifikasjoner her .","title":"Introduksjon"},{"location":"#introduksjon","text":"Brukernotifikasjoner gj\u00f8r det mulig for andre team \u00e5 sende Beskjeder, Oppgaver eller Statusoppdateringer til en spesifikk bruker, og f\u00e5 vist dette fram p\u00e5 forsiden av DittNAV. Dette gj\u00f8res gjennom at det blir publisert et event p\u00e5 et sett med topic-er, deretter vil DittNAV ta seg av \u00e5 vise dette for sluttbruker. Teamene kan selv deaktivere eventene igjen, hvis eventene ikke er relevante lengre. Deaktiverte eventer vil fortsatt v\u00e6re tilgjengelig fra historikk-visningen p\u00e5 DittNAV. Les mer om eventtyper her eller kom i gang med brukernotifikasjoner her .","title":"Introduksjon"},{"location":"builder/","text":"Builder Alle produsenter oppfordres sterkt til \u00e5 bruke builderene til \u00e5 opprette eventer. Grunnen til dette er at builderene vil validere alle feltene, f\u00f8r et event opprettes. Dette er de samme valideringsreglene som brukes av DittNAV ved innlesing fra kafka, f\u00f8r eventene vises til sluttbruker. Ved \u00e5 bruke builderene minimeres sjansene for at eventene blir avvist av DittNAV pga valideringsfeil. Hvis det fors\u00f8kes \u00e5 bygge et event med ugyldige feltverdier, s\u00e5 vil builderen kaste en FieldValidationException ved kallet til *.build() . Denne exception-en vil gi informasjon om om hvilket felt som feilet og hva som skjedde. Se valideringsregler her Buildere Nokkel Beskjed Oppgave Done Statusoppdatering Kodeeksempel BeskjedInputBuilder builder = getBuilderWithValues(); Beskjed beskjed = builder.build(); // Alle felter valideres, f\u00f8r eventet eventuelt blir opprettet private BeskjedInputBuilder getBuilderWithValues() { return new BeskjedInputBuilder() .withSikkerhetsnivaa(sikkerhetsnivaa) .withLink(link) .withTekst(tekst) .withTidspunkt(tidspunkt) .withSynligFremTil(synligFremTil) .withEksternVarsling(eksternVarsling) .withPrefererteKanaler(prefererteKanaler); }","title":"Builder"},{"location":"builder/#builder","text":"Alle produsenter oppfordres sterkt til \u00e5 bruke builderene til \u00e5 opprette eventer. Grunnen til dette er at builderene vil validere alle feltene, f\u00f8r et event opprettes. Dette er de samme valideringsreglene som brukes av DittNAV ved innlesing fra kafka, f\u00f8r eventene vises til sluttbruker. Ved \u00e5 bruke builderene minimeres sjansene for at eventene blir avvist av DittNAV pga valideringsfeil. Hvis det fors\u00f8kes \u00e5 bygge et event med ugyldige feltverdier, s\u00e5 vil builderen kaste en FieldValidationException ved kallet til *.build() . Denne exception-en vil gi informasjon om om hvilket felt som feilet og hva som skjedde. Se valideringsregler her","title":"Builder"},{"location":"builder/#buildere","text":"Nokkel Beskjed Oppgave Done Statusoppdatering","title":"Buildere"},{"location":"builder/#kodeeksempel","text":"BeskjedInputBuilder builder = getBuilderWithValues(); Beskjed beskjed = builder.build(); // Alle felter valideres, f\u00f8r eventet eventuelt blir opprettet private BeskjedInputBuilder getBuilderWithValues() { return new BeskjedInputBuilder() .withSikkerhetsnivaa(sikkerhetsnivaa) .withLink(link) .withTekst(tekst) .withTidspunkt(tidspunkt) .withSynligFremTil(synligFremTil) .withEksternVarsling(eksternVarsling) .withPrefererteKanaler(prefererteKanaler); }","title":"Kodeeksempel"},{"location":"eksempler/","text":"DittNAV-event-test-producer Test-produceren v\u00e5r kan brukes som inspirasjon for \u00e5 koble seg p\u00e5 kafka. I dev kan du for en innlogget bruker teste ut brukernotifikasjonene ved \u00e5 bruke test-produceren via https://person.dev.nav.no/person/dittnav/hendelser","title":"Eksempler"},{"location":"eksempler/#dittnav-event-test-producer","text":"Test-produceren v\u00e5r kan brukes som inspirasjon for \u00e5 koble seg p\u00e5 kafka. I dev kan du for en innlogget bruker teste ut brukernotifikasjonene ved \u00e5 bruke test-produceren via https://person.dev.nav.no/person/dittnav/hendelser","title":"DittNAV-event-test-producer"},{"location":"eksternvarsling/","text":"Ekstern varsling Det er mulig \u00e5 sende ekstern varsling p\u00e5 enten epost eller SMS, eller begge deler, til sluttbruker om ny beskjed eller oppgave p\u00e5 forsiden av Ditt NAV. Skjemaene for Beskjed og Oppgave inneholder et felt som brukes for \u00e5 indikere dette, eksternVarsling . Feltet er ikke p\u00e5krevet, og har default-verdien false . Settes dette til true vil det bestilles varsling. Rent praktisk foreg\u00e5r dette ved at DittNAV da oppretter et Kafka-event p\u00e5 en topic tilh\u00f8rende Team Dokumentl\u00f8sninger. Det er dette teamet som st\u00e5r for selve varselutsendingen, gjennom tjenesten doknotifikasjon. Beskjed og Oppgave inneholder i tillegg feltet prefererteKanaler . I dette feltet kan det settes hvilke kanaler som er prefererte varslingskanaler til brukeren. Feltet er ikke p\u00e5krevet. Hvis det ikke settes vil epost v\u00e6re preferert varslingskanal. All SMS og e-post f\u00e5r en standard tekst. Dette er mulig \u00e5 overstyre for b\u00e5de SMS og e-post, dette gj\u00f8res gjennom disse to feltene, disse feltene er ikke p\u00e5krevet: smsVarslingstekst skal overstyre SMS-teksten. Hvis dette feltet ikke er satt, skal bruker f\u00e5 en SMS med standard tekst: beskjed / oppgave . epostVarslingstekst skal overstyre epost-teksten. Hvis dette feltet ikke er satt, skal bruker f\u00e5 en epost med standard tekst: beskjed / oppgave . Kun innhold av <body> ( e-post mal ) skal overstyres. epostVarslingstittel skal overstyre epost-tittel. Hvis dette feltet ikke er satt, skal bruker f\u00e5 en epost med standard tittel, \"Beskjed fra NAV\" for beskjed og \"Du har f\u00e5tt en oppgave fra NAV\" for oppgave . For \u00e5 ta dette i bruk m\u00e5 alle produsenter ha et forhold til Kafka-topic-en aapen-dok-notifikasjon-status . Team Dokumentl\u00f8sninger skriver alle hendelser i forbindelse med en varselbestilling til denne topic-en, og her m\u00e5 produsenten overv\u00e5ke status til eventet som er sendt. Produsenten m\u00e5 selv vurdere om det er behov for \u00e5 agere p\u00e5 hendelsen. Les mer om mulige statuser her . Tilgang til topic kan f\u00e5s ved \u00e5 kontakte Team Dokumentl\u00f8sninger p\u00e5 #team-dokumentl\u00f8sninger. Generell informasjon: Det kan bestilles eksternt varsel p\u00e5 b\u00e5de SMS og epost. Team Dokumentl\u00f8sninger henter kontaktinformasjonen til sluttbruker og det er dette som til slutt avgj\u00f8r hvilken kanal det kan varsles i. Les mer om dette her . For oppgave-eventer sender Team Dokumentl\u00f8sninger kun \u00e9n re-notifikasjon p\u00e5 nytt (SMS/epost) Det er 7 dager mellom notifikasjon og re-notifikasjonen blir sendt. Re-notifikasjon avbestilles hvis vi mottar Done-event for oppgaven. Beskjed-event st\u00f8tter ikke re-notifikasjon. N\u00e5r varselbestillingen oversendes Team Dokumentl\u00f8sninger opprettes en bestillingsID. Denne ID-en har f\u00f8lgende format: <eventtype>-<systembruker>-<eventID> . <eventtype> er enten B for Beskjed eller O for Oppgave. BestillingsID-en vil bl.a. finnes igjen i eventene som skrives til status-topic-en nevnt tidligere.","title":"Ekstern varsling"},{"location":"eksternvarsling/#ekstern-varsling","text":"Det er mulig \u00e5 sende ekstern varsling p\u00e5 enten epost eller SMS, eller begge deler, til sluttbruker om ny beskjed eller oppgave p\u00e5 forsiden av Ditt NAV. Skjemaene for Beskjed og Oppgave inneholder et felt som brukes for \u00e5 indikere dette, eksternVarsling . Feltet er ikke p\u00e5krevet, og har default-verdien false . Settes dette til true vil det bestilles varsling. Rent praktisk foreg\u00e5r dette ved at DittNAV da oppretter et Kafka-event p\u00e5 en topic tilh\u00f8rende Team Dokumentl\u00f8sninger. Det er dette teamet som st\u00e5r for selve varselutsendingen, gjennom tjenesten doknotifikasjon. Beskjed og Oppgave inneholder i tillegg feltet prefererteKanaler . I dette feltet kan det settes hvilke kanaler som er prefererte varslingskanaler til brukeren. Feltet er ikke p\u00e5krevet. Hvis det ikke settes vil epost v\u00e6re preferert varslingskanal. All SMS og e-post f\u00e5r en standard tekst. Dette er mulig \u00e5 overstyre for b\u00e5de SMS og e-post, dette gj\u00f8res gjennom disse to feltene, disse feltene er ikke p\u00e5krevet: smsVarslingstekst skal overstyre SMS-teksten. Hvis dette feltet ikke er satt, skal bruker f\u00e5 en SMS med standard tekst: beskjed / oppgave . epostVarslingstekst skal overstyre epost-teksten. Hvis dette feltet ikke er satt, skal bruker f\u00e5 en epost med standard tekst: beskjed / oppgave . Kun innhold av <body> ( e-post mal ) skal overstyres. epostVarslingstittel skal overstyre epost-tittel. Hvis dette feltet ikke er satt, skal bruker f\u00e5 en epost med standard tittel, \"Beskjed fra NAV\" for beskjed og \"Du har f\u00e5tt en oppgave fra NAV\" for oppgave . For \u00e5 ta dette i bruk m\u00e5 alle produsenter ha et forhold til Kafka-topic-en aapen-dok-notifikasjon-status . Team Dokumentl\u00f8sninger skriver alle hendelser i forbindelse med en varselbestilling til denne topic-en, og her m\u00e5 produsenten overv\u00e5ke status til eventet som er sendt. Produsenten m\u00e5 selv vurdere om det er behov for \u00e5 agere p\u00e5 hendelsen. Les mer om mulige statuser her . Tilgang til topic kan f\u00e5s ved \u00e5 kontakte Team Dokumentl\u00f8sninger p\u00e5 #team-dokumentl\u00f8sninger.","title":"Ekstern varsling"},{"location":"eksternvarsling/#generell-informasjon","text":"Det kan bestilles eksternt varsel p\u00e5 b\u00e5de SMS og epost. Team Dokumentl\u00f8sninger henter kontaktinformasjonen til sluttbruker og det er dette som til slutt avgj\u00f8r hvilken kanal det kan varsles i. Les mer om dette her . For oppgave-eventer sender Team Dokumentl\u00f8sninger kun \u00e9n re-notifikasjon p\u00e5 nytt (SMS/epost) Det er 7 dager mellom notifikasjon og re-notifikasjonen blir sendt. Re-notifikasjon avbestilles hvis vi mottar Done-event for oppgaven. Beskjed-event st\u00f8tter ikke re-notifikasjon. N\u00e5r varselbestillingen oversendes Team Dokumentl\u00f8sninger opprettes en bestillingsID. Denne ID-en har f\u00f8lgende format: <eventtype>-<systembruker>-<eventID> . <eventtype> er enten B for Beskjed eller O for Oppgave. BestillingsID-en vil bl.a. finnes igjen i eventene som skrives til status-topic-en nevnt tidligere.","title":"Generell informasjon:"},{"location":"faq/","text":"FAQ Kan eventer reaktiveres? Nei, eventer kan ikke reaktiveres. Hvis det f\u00f8rst har blitt sendt minst ett done-event for en brukernotifikasjon s\u00e5 vil eventet bli satt inaktivt. Hvordan oppn\u00e5 samme effekt Send et done-event for eventer man vil deaktivere. Send deretter en ny brukernotifikasjon. Hva er grupperingsid ? Feltet brukes til \u00e5 vise at eventer naturlig h\u00f8rer sammen, for eksempel at de tilh\u00f8rer samme sak, s\u00f8knad, etc. Hvis flere eventer fra samme produsent, tilh\u00f8rende samme bruker, har samme grupperingsid vil de kunne grupperes sammen. Kan vi sende et nytt event for \u00e5 kvittere ut det opprinnelige eventet? Nei. Dersom oppgaven eller beskjeden i et event skal markeres som utf\u00f8rt, lest, ikke lenger relevant o.l., skal det sendes et done-event . Vi har sendt event med feil lenke/tekst. Hva gj\u00f8r vi? Dere kan selv sende done-event . Da vil beskjeden/oppgaven bli deaktivert og dere kan sende ett nytt event med rett info. Eventet vil v\u00e6re synlig p\u00e5 historikksiden s\u00e5 det kan v\u00e6re lurt \u00e5 skrive for eksempel \"Beklager, det var feil lenke i den forrige beskjeden\", s\u00e5 sluttbruker ikke blir forvirret med to like beskjeder/oppgaver p\u00e5 historikksiden. Hvis vi sender to eventer med samme n\u00f8kkel, vil nyeste event overskrive det opprinnelige? Nei, siden vi allerede har et event med samme n\u00f8kkel vil det siste eventet ikke bli skrevet til v\u00e5r event-cache, og dermed heller ikke vist p\u00e5 Ditt NAV. M\u00e5 eventid-en v\u00e6re unik? Ja. Event-id-en som settes m\u00e5 v\u00e6re unik pr. systembruker og eventtype. Se flere detaljer under Eventtyper Hvorfor kan vi ikke skrive mer tekst i eventene? Tanken er at eventene gir bruker beskjed om at noe har skjedd/noe m\u00e5 gj\u00f8res, men at handlingen hovedsakelig skal skje i de respektive innsynsl\u00f8sninger og domener. Visning av st\u00f8rre mengder domenespesifikk tekst i Ditt NAV er ikke hensiktsmessig, og bryter med tanken om at Ditt NAV skal v\u00e6re en felles inngangsport til de ulike tjenestene. Hvem eier dataene som ligger lagret i eventene? Kafka-topicene eies av #team-personbruker, men den enkelte produsent har selv ansvar for innholdet i det enkelte event. For \u00e5 f\u00e5 skrivetilgang m\u00e5 man som produsent bekrefte at man har forst\u00e5tt hva dette ansvaret inneb\u00e6rer. Se mer under Komme i gang Kan vi bruke akt\u00f8rid istedenfor f\u00f8dselsnummer for \u00e5 identifisere brukeren? Nei, vi st\u00f8tter kun f\u00f8dselsnummer som identifikator for en bruker. Hva er retention-tiden p\u00e5 brukernotfikasjon-topicene? Topicene produsentene skriver til har \u00e9n uke retention, men vi har et eget sett med intern-topics med uendelig retention. Kan det sendes varsel p\u00e5 SMS og/eller e-post til bruker samtidig som det opprettes Brukernotifikasjon p\u00e5 Ditt NAV? Ja. Se mer informasjon om dette under Ekstern varsling Kan vi sette v\u00e5r egen tekst i varsel p\u00e5 SMS og e-post? Nei. Det sendes en pre-definert standard tekst, som ikke avsl\u00f8rer noen sensitiv informasjon om hva brukerens varsel gjelder. Kan vi sende lenker i varselene? Nei. Teksten i varslene inneholder informasjon til brukeren om \u00e5 logge seg inn p\u00e5 Ditt NAV, men inneholder ikke lenker brukeren kan trykke p\u00e5.","title":"FAQ"},{"location":"faq/#faq","text":"","title":"FAQ"},{"location":"faq/#kan-eventer-reaktiveres","text":"Nei, eventer kan ikke reaktiveres. Hvis det f\u00f8rst har blitt sendt minst ett done-event for en brukernotifikasjon s\u00e5 vil eventet bli satt inaktivt.","title":"Kan eventer reaktiveres?"},{"location":"faq/#hvordan-oppna-samme-effekt","text":"Send et done-event for eventer man vil deaktivere. Send deretter en ny brukernotifikasjon.","title":"Hvordan oppn\u00e5 samme effekt"},{"location":"faq/#hva-er-grupperingsid","text":"Feltet brukes til \u00e5 vise at eventer naturlig h\u00f8rer sammen, for eksempel at de tilh\u00f8rer samme sak, s\u00f8knad, etc. Hvis flere eventer fra samme produsent, tilh\u00f8rende samme bruker, har samme grupperingsid vil de kunne grupperes sammen.","title":"Hva er grupperingsid?"},{"location":"faq/#kan-vi-sende-et-nytt-event-for-a-kvittere-ut-det-opprinnelige-eventet","text":"Nei. Dersom oppgaven eller beskjeden i et event skal markeres som utf\u00f8rt, lest, ikke lenger relevant o.l., skal det sendes et done-event .","title":"Kan vi sende et nytt event for \u00e5 kvittere ut det opprinnelige eventet?"},{"location":"faq/#vi-har-sendt-event-med-feil-lenketekst-hva-gjr-vi","text":"Dere kan selv sende done-event . Da vil beskjeden/oppgaven bli deaktivert og dere kan sende ett nytt event med rett info. Eventet vil v\u00e6re synlig p\u00e5 historikksiden s\u00e5 det kan v\u00e6re lurt \u00e5 skrive for eksempel \"Beklager, det var feil lenke i den forrige beskjeden\", s\u00e5 sluttbruker ikke blir forvirret med to like beskjeder/oppgaver p\u00e5 historikksiden.","title":"Vi har sendt event med feil lenke/tekst. Hva gj\u00f8r vi?"},{"location":"faq/#hvis-vi-sender-to-eventer-med-samme-nkkel-vil-nyeste-event-overskrive-det-opprinnelige","text":"Nei, siden vi allerede har et event med samme n\u00f8kkel vil det siste eventet ikke bli skrevet til v\u00e5r event-cache, og dermed heller ikke vist p\u00e5 Ditt NAV.","title":"Hvis vi sender to eventer med samme n\u00f8kkel, vil nyeste event overskrive det opprinnelige?"},{"location":"faq/#ma-eventid-en-vre-unik","text":"Ja. Event-id-en som settes m\u00e5 v\u00e6re unik pr. systembruker og eventtype. Se flere detaljer under Eventtyper","title":"M\u00e5 eventid-en v\u00e6re unik?"},{"location":"faq/#hvorfor-kan-vi-ikke-skrive-mer-tekst-i-eventene","text":"Tanken er at eventene gir bruker beskjed om at noe har skjedd/noe m\u00e5 gj\u00f8res, men at handlingen hovedsakelig skal skje i de respektive innsynsl\u00f8sninger og domener. Visning av st\u00f8rre mengder domenespesifikk tekst i Ditt NAV er ikke hensiktsmessig, og bryter med tanken om at Ditt NAV skal v\u00e6re en felles inngangsport til de ulike tjenestene.","title":"Hvorfor kan vi ikke skrive mer tekst i eventene?"},{"location":"faq/#hvem-eier-dataene-som-ligger-lagret-i-eventene","text":"Kafka-topicene eies av #team-personbruker, men den enkelte produsent har selv ansvar for innholdet i det enkelte event. For \u00e5 f\u00e5 skrivetilgang m\u00e5 man som produsent bekrefte at man har forst\u00e5tt hva dette ansvaret inneb\u00e6rer. Se mer under Komme i gang","title":"Hvem eier dataene som ligger lagret i eventene?"},{"location":"faq/#kan-vi-bruke-aktrid-istedenfor-fdselsnummer-for-a-identifisere-brukeren","text":"Nei, vi st\u00f8tter kun f\u00f8dselsnummer som identifikator for en bruker.","title":"Kan vi bruke akt\u00f8rid istedenfor f\u00f8dselsnummer for \u00e5 identifisere brukeren?"},{"location":"faq/#hva-er-retention-tiden-pa-brukernotfikasjon-topicene","text":"Topicene produsentene skriver til har \u00e9n uke retention, men vi har et eget sett med intern-topics med uendelig retention.","title":"Hva er retention-tiden p\u00e5 brukernotfikasjon-topicene?"},{"location":"faq/#kan-det-sendes-varsel-pa-sms-ogeller-e-post-til-bruker-samtidig-som-det-opprettes-brukernotifikasjon-pa-ditt-nav","text":"Ja. Se mer informasjon om dette under Ekstern varsling","title":"Kan det sendes varsel p\u00e5 SMS og/eller e-post til bruker samtidig som det opprettes Brukernotifikasjon p\u00e5 Ditt NAV?"},{"location":"faq/#kan-vi-sette-var-egen-tekst-i-varsel-pa-sms-og-e-post","text":"Nei. Det sendes en pre-definert standard tekst, som ikke avsl\u00f8rer noen sensitiv informasjon om hva brukerens varsel gjelder.","title":"Kan vi sette v\u00e5r egen tekst i varsel p\u00e5 SMS og e-post?"},{"location":"faq/#kan-vi-sende-lenker-i-varselene","text":"Nei. Teksten i varslene inneholder informasjon til brukeren om \u00e5 logge seg inn p\u00e5 Ditt NAV, men inneholder ikke lenker brukeren kan trykke p\u00e5.","title":"Kan vi sende lenker i varselene?"},{"location":"feilsoking/","text":"Feils\u00f8king Verifiser at alt gikk bra med prosesseringen av eventet: Sjekk i Grafana Sjekk loggene for dittnav-brukernotifikasjonbestiller, som er appen som leser inn eventene fra Kafka.","title":"Feils\u00f8king"},{"location":"feilsoking/#feilsking","text":"Verifiser at alt gikk bra med prosesseringen av eventet: Sjekk i Grafana Sjekk loggene for dittnav-brukernotifikasjonbestiller, som er appen som leser inn eventene fra Kafka.","title":"Feils\u00f8king"},{"location":"guide_varslingstype/","text":"Guide for valg av brukernotifikasjon Figuren under kan v\u00e6re til hjelp n\u00e5r produsenter skal velge eventtype.","title":"Guide for valg av brukernotifikasjon"},{"location":"guide_varslingstype/#guide-for-valg-av-brukernotifikasjon","text":"Figuren under kan v\u00e6re til hjelp n\u00e5r produsenter skal velge eventtype.","title":"Guide for valg av brukernotifikasjon"},{"location":"komme_i_gang/","text":"Komme i gang Velg rett eventtype. Les gjennom eventtypene her . Se p\u00e5 dette eksemplet. Her finner du v\u00e5re schemas. Biblioteket finner du her . Se ogs\u00e5 p\u00e5 kodeeksemplet til valgt event-type. For eksempel Beskjed . Gjerne ta kontakt med oss p\u00e5 slack-kanalen #brukernotifikasjoner hvis dere lurer p\u00e5 om dere bruker brukernotifikasjonene riktig. Bestill tilgang til topics her .","title":"Komme i gang"},{"location":"komme_i_gang/#komme-i-gang","text":"Velg rett eventtype. Les gjennom eventtypene her . Se p\u00e5 dette eksemplet. Her finner du v\u00e5re schemas. Biblioteket finner du her . Se ogs\u00e5 p\u00e5 kodeeksemplet til valgt event-type. For eksempel Beskjed . Gjerne ta kontakt med oss p\u00e5 slack-kanalen #brukernotifikasjoner hvis dere lurer p\u00e5 om dere bruker brukernotifikasjonene riktig. Bestill tilgang til topics her .","title":"Komme i gang"},{"location":"kontakt/","text":"Kontakt Team Personbruker Slack #brukernotifikasjoner","title":"Kontakt"},{"location":"kontakt/#kontakt","text":"","title":"Kontakt"},{"location":"kontakt/#team","text":"Personbruker","title":"Team"},{"location":"kontakt/#slack","text":"#brukernotifikasjoner","title":"Slack"},{"location":"metrics/","text":"Metrics DittNAV-teamet har laget et par granfa-dashbards som kan brukes for \u00e5 verifisere at alt fungerer som det skal. Prosessering Viser info om den l\u00f8pende prosesseringen av eventer: Prosesseringstid Antall eventer motatt. Antall felende eventer. Topic vs cache Obs: viser ikke data for aiven-topics enda enda Metrics som oppdateres hvert femte minutt for \u00e5 verifisere at alt unikt innhold p\u00e5 topic-ene har havnet i DittNAVs-event-cache. Dashboardet finnes her. Totaloversikt Alle eventer sett under ett: Info om eventuell diff, mellom hva som finnes av eventer p\u00e5 kafka-topic-ene og hva som finnes i cache-en. Visualisert per eventtype. Dashboardet finnes her. Oversikt per team Obs: viser ikke data for aiven-topics enda enda Alle eventer gruppert per systembruker/produsent: Info om eventuell diff, mellom hva som finnes av eventer p\u00e5 kafka-topic-ene og hva som finnes i cache-en. Visualisert per eventtype. Dashboardet finnes her.","title":"Metrics"},{"location":"metrics/#metrics","text":"DittNAV-teamet har laget et par granfa-dashbards som kan brukes for \u00e5 verifisere at alt fungerer som det skal.","title":"Metrics"},{"location":"metrics/#prosessering","text":"Viser info om den l\u00f8pende prosesseringen av eventer: Prosesseringstid Antall eventer motatt. Antall felende eventer.","title":"Prosessering"},{"location":"metrics/#topic-vs-cache","text":"Obs: viser ikke data for aiven-topics enda enda Metrics som oppdateres hvert femte minutt for \u00e5 verifisere at alt unikt innhold p\u00e5 topic-ene har havnet i DittNAVs-event-cache. Dashboardet finnes her.","title":"Topic vs cache"},{"location":"metrics/#totaloversikt","text":"Alle eventer sett under ett: Info om eventuell diff, mellom hva som finnes av eventer p\u00e5 kafka-topic-ene og hva som finnes i cache-en. Visualisert per eventtype. Dashboardet finnes her.","title":"Totaloversikt"},{"location":"metrics/#oversikt-per-team","text":"Obs: viser ikke data for aiven-topics enda enda Alle eventer gruppert per systembruker/produsent: Info om eventuell diff, mellom hva som finnes av eventer p\u00e5 kafka-topic-ene og hva som finnes i cache-en. Visualisert per eventtype. Dashboardet finnes her.","title":"Oversikt per team"},{"location":"eventtyper/fellesinfo/","text":"Se v\u00e5r guide for valg av brukernotifikasjon. Alle brukernotifikasjoner best\u00e5r av en key og en value som legges p\u00e5 kafka-topicene. Alle eventtypene bruker NokkelInput som key, mens hver eventtype har sin egen value. Se egene underkapitler for dette ( Beskjed , Oppgave , Done og Statusoppdatering ). Husk \u00e5 bruk builderene v\u00e5re for \u00e5 validere alle eventer. Les mer om dette her . Kafka key (NokkelInput) Feltene i NokkelInput er som en kompositt-n\u00f8kkel for \u00e5 unikt identifisere eventet. Alle feltene nedenfor m\u00e5 v\u00e6re med for at eventet skal bli validert. eventId Den unike identifikatoren per event, m\u00e5 enten v\u00e6re en UUID eller en ULID. Det er denne eventID -en som benyttes for \u00e5 deaktivere eventer som er utf\u00f8rt. Dette gj\u00f8res ved \u00e5 sende et event av typen done, med referanse til det eventet som ikke skal vises p\u00e5 DittNAV lengre. Feltet kan ikke v\u00e6re null. grupperidsId Feltet grupperingsId brukes for \u00e5 kunne samle alle eventer som h\u00f8rer til en sak, s\u00f8knad eller et dokument. Dette er typisk en saksId, s\u00f8knadsId eller dokumentId, men dere velger selv hvilken verdi dere putter der. Men det er viktig at det er samme verdi for alle eventer som skal grupperes sammen. Typisk bruk for dette feltet vil v\u00e6re oppbygging av tidslinjer. Feltet har en begrensning p\u00e5 100 tegn og kan ikke v\u00e6re null. fodselsnummer F\u00f8dselsnummeret til brukeren som eventet tilh\u00f8rer. Feltet har en begrensning p\u00e5 11 tegn og kan ikke v\u00e6re null. namespace Namespacet til appen som har produsert eventet. Feltet har en begrensning p\u00e5 63 tegn og kan ikke v\u00e6re null. appnavn Navnet p\u00e5 appen som har produsert eventet. Feltet har en begrensning p\u00e5 100 tegn og kan ikke v\u00e6re null. Schemas Nokkel-schemas p\u00e5 Github.","title":"Fellesinfo"},{"location":"eventtyper/fellesinfo/#kafka-key-nokkelinput","text":"Feltene i NokkelInput er som en kompositt-n\u00f8kkel for \u00e5 unikt identifisere eventet. Alle feltene nedenfor m\u00e5 v\u00e6re med for at eventet skal bli validert.","title":"Kafka key (NokkelInput)"},{"location":"eventtyper/fellesinfo/#eventid","text":"Den unike identifikatoren per event, m\u00e5 enten v\u00e6re en UUID eller en ULID. Det er denne eventID -en som benyttes for \u00e5 deaktivere eventer som er utf\u00f8rt. Dette gj\u00f8res ved \u00e5 sende et event av typen done, med referanse til det eventet som ikke skal vises p\u00e5 DittNAV lengre. Feltet kan ikke v\u00e6re null.","title":"eventId"},{"location":"eventtyper/fellesinfo/#grupperidsid","text":"Feltet grupperingsId brukes for \u00e5 kunne samle alle eventer som h\u00f8rer til en sak, s\u00f8knad eller et dokument. Dette er typisk en saksId, s\u00f8knadsId eller dokumentId, men dere velger selv hvilken verdi dere putter der. Men det er viktig at det er samme verdi for alle eventer som skal grupperes sammen. Typisk bruk for dette feltet vil v\u00e6re oppbygging av tidslinjer. Feltet har en begrensning p\u00e5 100 tegn og kan ikke v\u00e6re null.","title":"grupperidsId"},{"location":"eventtyper/fellesinfo/#fodselsnummer","text":"F\u00f8dselsnummeret til brukeren som eventet tilh\u00f8rer. Feltet har en begrensning p\u00e5 11 tegn og kan ikke v\u00e6re null.","title":"fodselsnummer"},{"location":"eventtyper/fellesinfo/#namespace","text":"Namespacet til appen som har produsert eventet. Feltet har en begrensning p\u00e5 63 tegn og kan ikke v\u00e6re null.","title":"namespace"},{"location":"eventtyper/fellesinfo/#appnavn","text":"Navnet p\u00e5 appen som har produsert eventet. Feltet har en begrensning p\u00e5 100 tegn og kan ikke v\u00e6re null.","title":"appnavn"},{"location":"eventtyper/fellesinfo/#schemas","text":"Nokkel-schemas p\u00e5 Github.","title":"Schemas"},{"location":"eventtyper/beskjed/beskrivelse/","text":"Beskrivelse Dette er en typisk melding til sluttbrukeren. For eksempel, \u00abDu sendte en s\u00f8knad om <...>\u00bb.","title":"Beskrivelse"},{"location":"eventtyper/beskjed/beskrivelse/#beskrivelse","text":"Dette er en typisk melding til sluttbrukeren. For eksempel, \u00abDu sendte en s\u00f8knad om <...>\u00bb.","title":"Beskrivelse"},{"location":"eventtyper/beskjed/felter/","text":"Feltbeskrivelser NokkelInput (Kafka key) Se NokkelInput BeskjedInput (Kafka value) Beskrivelse av feltene til eventet Beskjed . Husk \u00e5 validere alle eventene med builderene v\u00e5re. Les mer om dette her . tidspunkt Et tidspunkt som noe skjedde, f.eks. da saksbehandlingen av en s\u00f8knad var ferdig. Bruk UTC som tidssone. tekst Dette er teksten som faktisk vises i eventet. Det er ikke noen st\u00f8tte for \u00e5 formatere teksten som settes i dette feltet. Feltet har en begrensning p\u00e5 300 tegn og kan ikke v\u00e6re null. link Dette er lenken som blir aktivert i det en bruker trykker p\u00e5 selve eventet. En lenke m\u00e5 v\u00e6re en komplett URL, inkludert https protokoll. Feltet har en begrensning p\u00e5 200 tegn. Produsenten kan sende inn en tom String. Da vil ikke link v\u00e6re synlig for sluttbruker. sikkerhetsnivaa (valgfri) Angir sikkerhetsniv\u00e5et for informasjonen som eventet innholder. Kan inneholde verdien 3 eller 4 , default verdi er 4 . DittNAV st\u00f8tter at en bruker er innlogget p\u00e5 niv\u00e5 3, hvis denne brukeren har eventer med niv\u00e5 4 s\u00e5 vil disse eventene bli \"gr\u00e5et ut\". Brukeren ser bare hvilken type event dette er, men ikke noe av innholdet. For \u00e5 se innholdet m\u00e5 brukeren steppe opp til et h\u00f8yere innloggingsniv\u00e5. synligFremTil (valgfri) Et tidspunkt p\u00e5 n\u00e5r eventet ikke skal v\u00e6re synlig mer, f.eks beskjeden skal kun v\u00e6re synlig 7 dager. N\u00e5r synligFramTil-tidspunktet har passert vil dittnav sende et Done-event, og deaktivere eventet. synligFramTil = null -> synlig for alltid, med mindre brukeren selv arkiverer beskjeden p\u00e5 forsiden av DittNAV. Bruk UTC som tidssone. eksternVarsling (valgfri) Default-verdien til dette feltet er false , men hvis det blir satt til true vil beskjed-en bli varslet p\u00e5 SMS eller e-post. Les mer om eksternvarsling her . prefererteKanaler (valgfri) Angir \u00f8nskede varslingskanaler for ekstern varsling. Gyldige verdier finnes her . Feltet kan inneholde flere prefererte kanaler, men er valgfritt. Dersom det ikke settes velges EPOST som default preferert kanal. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false . smsVarslingstekst (valgfri) Tekst som skal overstyre SMS standard tekst for ekstern varsling. Teksten kan ikke v\u00e6re lengre enn 160 tegn. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false . epostVarslingstekst (valgfri) Tekst som skal overstyre epost standard tekst for ekstern varsling. Kun innhold av <body> ( e-post mal ) skal overstyres. Tekst kan innholde HTML tagger som er gyldig i <body> tag og den kan ikke v\u00e6re lengre enn 4,000 tegn. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false . epostVarslingsttittel (valgfri) Tekst som skal overstyre epost standard tittel (\"Beskjed fra NAV\") for ekstern varsling. Tekst kan ikke v\u00e6re lengre enn 40 tegn. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false . Schemas BeskjedInput-schemas p\u00e5 Github.","title":"Feltbeskrivelser"},{"location":"eventtyper/beskjed/felter/#feltbeskrivelser","text":"","title":"Feltbeskrivelser"},{"location":"eventtyper/beskjed/felter/#nokkelinput-kafka-key","text":"Se NokkelInput","title":"NokkelInput (Kafka key)"},{"location":"eventtyper/beskjed/felter/#beskjedinput-kafka-value","text":"Beskrivelse av feltene til eventet Beskjed . Husk \u00e5 validere alle eventene med builderene v\u00e5re. Les mer om dette her .","title":"BeskjedInput (Kafka value)"},{"location":"eventtyper/beskjed/felter/#tidspunkt","text":"Et tidspunkt som noe skjedde, f.eks. da saksbehandlingen av en s\u00f8knad var ferdig. Bruk UTC som tidssone.","title":"tidspunkt"},{"location":"eventtyper/beskjed/felter/#tekst","text":"Dette er teksten som faktisk vises i eventet. Det er ikke noen st\u00f8tte for \u00e5 formatere teksten som settes i dette feltet. Feltet har en begrensning p\u00e5 300 tegn og kan ikke v\u00e6re null.","title":"tekst"},{"location":"eventtyper/beskjed/felter/#link","text":"Dette er lenken som blir aktivert i det en bruker trykker p\u00e5 selve eventet. En lenke m\u00e5 v\u00e6re en komplett URL, inkludert https protokoll. Feltet har en begrensning p\u00e5 200 tegn. Produsenten kan sende inn en tom String. Da vil ikke link v\u00e6re synlig for sluttbruker.","title":"link"},{"location":"eventtyper/beskjed/felter/#sikkerhetsnivaa-valgfri","text":"Angir sikkerhetsniv\u00e5et for informasjonen som eventet innholder. Kan inneholde verdien 3 eller 4 , default verdi er 4 . DittNAV st\u00f8tter at en bruker er innlogget p\u00e5 niv\u00e5 3, hvis denne brukeren har eventer med niv\u00e5 4 s\u00e5 vil disse eventene bli \"gr\u00e5et ut\". Brukeren ser bare hvilken type event dette er, men ikke noe av innholdet. For \u00e5 se innholdet m\u00e5 brukeren steppe opp til et h\u00f8yere innloggingsniv\u00e5.","title":"sikkerhetsnivaa (valgfri)"},{"location":"eventtyper/beskjed/felter/#synligfremtil-valgfri","text":"Et tidspunkt p\u00e5 n\u00e5r eventet ikke skal v\u00e6re synlig mer, f.eks beskjeden skal kun v\u00e6re synlig 7 dager. N\u00e5r synligFramTil-tidspunktet har passert vil dittnav sende et Done-event, og deaktivere eventet. synligFramTil = null -> synlig for alltid, med mindre brukeren selv arkiverer beskjeden p\u00e5 forsiden av DittNAV. Bruk UTC som tidssone.","title":"synligFremTil (valgfri)"},{"location":"eventtyper/beskjed/felter/#eksternvarsling-valgfri","text":"Default-verdien til dette feltet er false , men hvis det blir satt til true vil beskjed-en bli varslet p\u00e5 SMS eller e-post. Les mer om eksternvarsling her .","title":"eksternVarsling (valgfri)"},{"location":"eventtyper/beskjed/felter/#preferertekanaler-valgfri","text":"Angir \u00f8nskede varslingskanaler for ekstern varsling. Gyldige verdier finnes her . Feltet kan inneholde flere prefererte kanaler, men er valgfritt. Dersom det ikke settes velges EPOST som default preferert kanal. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false .","title":"prefererteKanaler (valgfri)"},{"location":"eventtyper/beskjed/felter/#smsvarslingstekst-valgfri","text":"Tekst som skal overstyre SMS standard tekst for ekstern varsling. Teksten kan ikke v\u00e6re lengre enn 160 tegn. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false .","title":"smsVarslingstekst (valgfri)"},{"location":"eventtyper/beskjed/felter/#epostvarslingstekst-valgfri","text":"Tekst som skal overstyre epost standard tekst for ekstern varsling. Kun innhold av <body> ( e-post mal ) skal overstyres. Tekst kan innholde HTML tagger som er gyldig i <body> tag og den kan ikke v\u00e6re lengre enn 4,000 tegn. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false .","title":"epostVarslingstekst (valgfri)"},{"location":"eventtyper/beskjed/felter/#epostvarslingsttittel-valgfri","text":"Tekst som skal overstyre epost standard tittel (\"Beskjed fra NAV\") for ekstern varsling. Tekst kan ikke v\u00e6re lengre enn 40 tegn. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false .","title":"epostVarslingsttittel (valgfri)"},{"location":"eventtyper/beskjed/felter/#schemas","text":"BeskjedInput-schemas p\u00e5 Github.","title":"Schemas"},{"location":"eventtyper/beskjed/paa_dittnav/","text":"Visning p\u00e5 DittNAV DittNAV sender done-event p\u00e5 beskjed-event , siden brukeren selv kan klikke bort disse eventene n\u00e5r beskjeden er mottatt. Deaktiverte eventer vil fortsatt v\u00e6re tilgjengelig fra historikk-visningen p\u00e5 DittNAV.","title":"Visning p\u00e5 DittNAV"},{"location":"eventtyper/beskjed/paa_dittnav/#visning-pa-dittnav","text":"DittNAV sender done-event p\u00e5 beskjed-event , siden brukeren selv kan klikke bort disse eventene n\u00e5r beskjeden er mottatt. Deaktiverte eventer vil fortsatt v\u00e6re tilgjengelig fra historikk-visningen p\u00e5 DittNAV.","title":"Visning p\u00e5 DittNAV"},{"location":"eventtyper/beskjed/topic/","text":"Kafka topics Milj\u00f8 Topic-navn dev aapen-brukernotifikasjon-beskjed-v1 prod aapen-brukernotifikasjon-beskjed-v1 Tilgang Tilgang til topic-ene kan bestilles ved \u00e5 opprette en pull-request mot dette repo-et .","title":"Kafka topics"},{"location":"eventtyper/beskjed/topic/#kafka-topics","text":"Milj\u00f8 Topic-navn dev aapen-brukernotifikasjon-beskjed-v1 prod aapen-brukernotifikasjon-beskjed-v1","title":"Kafka topics"},{"location":"eventtyper/beskjed/topic/#tilgang","text":"Tilgang til topic-ene kan bestilles ved \u00e5 opprette en pull-request mot dette repo-et .","title":"Tilgang"},{"location":"eventtyper/done/beskrivelse/","text":"Beskrivelse Done-event sendes n\u00e5r brukernotifikasjonen skal fjernes, for eksempel n\u00e5r oppgaven er utf\u00f8rt, eller beskjeden er lest. Done-event m\u00e5 ha samme eventId og f\u00f8dselsnummer som Oppgaven/Beskjeden den skal deaktivere. Hvis brukeren trykker p\u00e5 arkiv\u00e9r-knappen p\u00e5 en beskjed vil DittNAV selv sende et done-event for beskjeden. Hvis synligFremTil-tidspunktet har passert vil det ogs\u00e5 automatisk bli sendt et done-event . Deaktiverte eventer vil fortsatt v\u00e6re tilgjengelig fra historikk-visningen p\u00e5 DittNAV.","title":"Beskrivelse"},{"location":"eventtyper/done/beskrivelse/#beskrivelse","text":"Done-event sendes n\u00e5r brukernotifikasjonen skal fjernes, for eksempel n\u00e5r oppgaven er utf\u00f8rt, eller beskjeden er lest. Done-event m\u00e5 ha samme eventId og f\u00f8dselsnummer som Oppgaven/Beskjeden den skal deaktivere. Hvis brukeren trykker p\u00e5 arkiv\u00e9r-knappen p\u00e5 en beskjed vil DittNAV selv sende et done-event for beskjeden. Hvis synligFremTil-tidspunktet har passert vil det ogs\u00e5 automatisk bli sendt et done-event . Deaktiverte eventer vil fortsatt v\u00e6re tilgjengelig fra historikk-visningen p\u00e5 DittNAV.","title":"Beskrivelse"},{"location":"eventtyper/done/felter/","text":"Feltbeskrivelser NokkelInput (Kafka key) Se NokkelInput DoneInput (Kafka value) Beskrivelse av feltene til eventet done . Husk \u00e5 validere alle eventene med builderene v\u00e5re. Les mer om dette her . tidspunkt Et tidspunkt som noe skjedde, f.eks. da saksbehandlingen av en s\u00f8knad var ferdig. Bruk UTC som tidssone. Schemas DoneInput-schemas p\u00e5 Github.","title":"Feltbeskrivelser"},{"location":"eventtyper/done/felter/#feltbeskrivelser","text":"","title":"Feltbeskrivelser"},{"location":"eventtyper/done/felter/#nokkelinput-kafka-key","text":"Se NokkelInput","title":"NokkelInput (Kafka key)"},{"location":"eventtyper/done/felter/#doneinput-kafka-value","text":"Beskrivelse av feltene til eventet done . Husk \u00e5 validere alle eventene med builderene v\u00e5re. Les mer om dette her .","title":"DoneInput (Kafka value)"},{"location":"eventtyper/done/felter/#tidspunkt","text":"Et tidspunkt som noe skjedde, f.eks. da saksbehandlingen av en s\u00f8knad var ferdig. Bruk UTC som tidssone.","title":"tidspunkt"},{"location":"eventtyper/done/felter/#schemas","text":"DoneInput-schemas p\u00e5 Github.","title":"Schemas"},{"location":"eventtyper/done/topic/","text":"Kafka topics Milj\u00f8 Topic-navn dev aapen-brukernotifikasjon-done-v1 prod aapen-brukernotifikasjon-done-v1 Tilgang Tilgang til topic-ene kan bestilles ved \u00e5 opprette en pull-request mot dette repo-et .","title":"Kafka topics"},{"location":"eventtyper/done/topic/#kafka-topics","text":"Milj\u00f8 Topic-navn dev aapen-brukernotifikasjon-done-v1 prod aapen-brukernotifikasjon-done-v1","title":"Kafka topics"},{"location":"eventtyper/done/topic/#tilgang","text":"Tilgang til topic-ene kan bestilles ved \u00e5 opprette en pull-request mot dette repo-et .","title":"Tilgang"},{"location":"eventtyper/oppgave/beskrivelse/","text":"Beskrivelse Oppgave brukes n\u00e5r du vil ha utf\u00f8rt en konkret oppgave. For eksempel, \u00abvi mangler et vedlegg. Send inn her <...>.\u00bb Brukeren kan ikke selv klikke bort et oppgave-event , s\u00e5 her m\u00e5 du som produsent sende et Done-event","title":"Beskrivelse"},{"location":"eventtyper/oppgave/beskrivelse/#beskrivelse","text":"Oppgave brukes n\u00e5r du vil ha utf\u00f8rt en konkret oppgave. For eksempel, \u00abvi mangler et vedlegg. Send inn her <...>.\u00bb Brukeren kan ikke selv klikke bort et oppgave-event , s\u00e5 her m\u00e5 du som produsent sende et Done-event","title":"Beskrivelse"},{"location":"eventtyper/oppgave/felter/","text":"Feltbeskrivelser NokkelInput (Kafka key) Se NokkelInput OppgaveInput (Kafka value) Beskrivelse av feltene til eventet Oppgave . Husk \u00e5 validere alle eventene med builderene v\u00e5re. Les mer om dette her . tidspunkt Et tidspunkt som noe skjedde, f.eks. da saksbehandlingen av en s\u00f8knad var ferdig. Bruk UTC som tidssone. tekst Dette er teksten som faktisk vises i eventet. Det er ikke noen st\u00f8tte for \u00e5 formatere teksten som settes i dette feltet. Feltet har en begrensning p\u00e5 500 tegn og kan ikke v\u00e6re null. link Dette er lenken som blir aktivert i det en bruker trykker p\u00e5 selve eventet. En lenke m\u00e5 v\u00e6re en komplett URL, inkludert https protokoll. Feltet har en begrensning p\u00e5 200 tegn, og kan ikke v\u00e6re null eller inneholde en tom streng. sikkerhetsnivaa (valgfri) Angir sikkerhetsniv\u00e5et for informasjonen som eventet innholder. Kan inneholde verdien 3 eller 4 , default verdi er 4 . DittNAV s\u00f8tter at en bruker er innlogget p\u00e5 niv\u00e5 3, hvis denne brukeren har eventer med niv\u00e5 4 s\u00e5 vil disse eventene bli \"gr\u00e5et ut\". Brukeren ser bare hvilken type event dette er, men ikke noe av innholdet. For \u00e5 se innholdet m\u00e5 brukeren steppe opp til et h\u00f8yere innloggingsniv\u00e5. synligFremTil (valgfri) Et tidspunkt p\u00e5 n\u00e5r eventet ikke skal v\u00e6re synlig mer, f.eks oppgaven skal kun v\u00e6re synlig 7 dager. Bruk UTC som tidssone. eksternVarsling (valgfri) Default-verdien til dette feltet er false , men hvis det blir satt til true vil oppgave-eventet bli varslet p\u00e5 SMS eller e-post. Les mer om eksternvarsling her . prefererteKanaler (valgfri) Angir \u00f8nskede varslingskanaler for ekstern varsling. Gyldige verdier finnes her . Feltet kan inneholde flere prefererte kanaler, men er valgfritt. Dersom det ikke settes velges EPOST som default preferert kanal. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false . smsVarslingstekst (valgfri) Tekst som skal overstyre SMS standard tekst for ekstern varsling. Teksten kan ikke v\u00e6re lengre enn 160 tegn. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false . epostVarslingstekst (valgfri) Tekst som skal overstyre epost standard tekst for ekstern varsling. Kun innhold av <body> ( e-post mal ) skal overstyres. Tekst kan innholde HTML tagger som er gyldig i <body> tag og den kan ikke v\u00e6re lengre enn 4,000 tegn. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false . epostVarslingsttittel (valgfri) Tekst som skal overstyre epost standard tittel (\"Du har f\u00e5tt en oppgave fra NAV\") for ekstern varsling. Tekst kan ikke v\u00e6re lengre enn 40 tegn. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false . Schemas Oppgave-schemas p\u00e5 Github.","title":"Feltbeskrivelser"},{"location":"eventtyper/oppgave/felter/#feltbeskrivelser","text":"","title":"Feltbeskrivelser"},{"location":"eventtyper/oppgave/felter/#nokkelinput-kafka-key","text":"Se NokkelInput","title":"NokkelInput (Kafka key)"},{"location":"eventtyper/oppgave/felter/#oppgaveinput-kafka-value","text":"Beskrivelse av feltene til eventet Oppgave . Husk \u00e5 validere alle eventene med builderene v\u00e5re. Les mer om dette her .","title":"OppgaveInput (Kafka value)"},{"location":"eventtyper/oppgave/felter/#tidspunkt","text":"Et tidspunkt som noe skjedde, f.eks. da saksbehandlingen av en s\u00f8knad var ferdig. Bruk UTC som tidssone.","title":"tidspunkt"},{"location":"eventtyper/oppgave/felter/#tekst","text":"Dette er teksten som faktisk vises i eventet. Det er ikke noen st\u00f8tte for \u00e5 formatere teksten som settes i dette feltet. Feltet har en begrensning p\u00e5 500 tegn og kan ikke v\u00e6re null.","title":"tekst"},{"location":"eventtyper/oppgave/felter/#link","text":"Dette er lenken som blir aktivert i det en bruker trykker p\u00e5 selve eventet. En lenke m\u00e5 v\u00e6re en komplett URL, inkludert https protokoll. Feltet har en begrensning p\u00e5 200 tegn, og kan ikke v\u00e6re null eller inneholde en tom streng.","title":"link"},{"location":"eventtyper/oppgave/felter/#sikkerhetsnivaa-valgfri","text":"Angir sikkerhetsniv\u00e5et for informasjonen som eventet innholder. Kan inneholde verdien 3 eller 4 , default verdi er 4 . DittNAV s\u00f8tter at en bruker er innlogget p\u00e5 niv\u00e5 3, hvis denne brukeren har eventer med niv\u00e5 4 s\u00e5 vil disse eventene bli \"gr\u00e5et ut\". Brukeren ser bare hvilken type event dette er, men ikke noe av innholdet. For \u00e5 se innholdet m\u00e5 brukeren steppe opp til et h\u00f8yere innloggingsniv\u00e5.","title":"sikkerhetsnivaa (valgfri)"},{"location":"eventtyper/oppgave/felter/#synligfremtil-valgfri","text":"Et tidspunkt p\u00e5 n\u00e5r eventet ikke skal v\u00e6re synlig mer, f.eks oppgaven skal kun v\u00e6re synlig 7 dager. Bruk UTC som tidssone.","title":"synligFremTil (valgfri)"},{"location":"eventtyper/oppgave/felter/#eksternvarsling-valgfri","text":"Default-verdien til dette feltet er false , men hvis det blir satt til true vil oppgave-eventet bli varslet p\u00e5 SMS eller e-post. Les mer om eksternvarsling her .","title":"eksternVarsling (valgfri)"},{"location":"eventtyper/oppgave/felter/#preferertekanaler-valgfri","text":"Angir \u00f8nskede varslingskanaler for ekstern varsling. Gyldige verdier finnes her . Feltet kan inneholde flere prefererte kanaler, men er valgfritt. Dersom det ikke settes velges EPOST som default preferert kanal. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false .","title":"prefererteKanaler (valgfri)"},{"location":"eventtyper/oppgave/felter/#smsvarslingstekst-valgfri","text":"Tekst som skal overstyre SMS standard tekst for ekstern varsling. Teksten kan ikke v\u00e6re lengre enn 160 tegn. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false .","title":"smsVarslingstekst (valgfri)"},{"location":"eventtyper/oppgave/felter/#epostvarslingstekst-valgfri","text":"Tekst som skal overstyre epost standard tekst for ekstern varsling. Kun innhold av <body> ( e-post mal ) skal overstyres. Tekst kan innholde HTML tagger som er gyldig i <body> tag og den kan ikke v\u00e6re lengre enn 4,000 tegn. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false .","title":"epostVarslingstekst (valgfri)"},{"location":"eventtyper/oppgave/felter/#epostvarslingsttittel-valgfri","text":"Tekst som skal overstyre epost standard tittel (\"Du har f\u00e5tt en oppgave fra NAV\") for ekstern varsling. Tekst kan ikke v\u00e6re lengre enn 40 tegn. Det er ikke tillatt \u00e5 sette feltet dersom eksternVarsling er false .","title":"epostVarslingsttittel (valgfri)"},{"location":"eventtyper/oppgave/felter/#schemas","text":"Oppgave-schemas p\u00e5 Github.","title":"Schemas"},{"location":"eventtyper/oppgave/topic/","text":"Kafka topics Milj\u00f8 Topic-navn dev aapen-brukernotifikasjon-oppgave-v1 prod aapen-brukernotifikasjon-oppgave-v1 Tilgang Tilgang til topic-ene kan bestilles ved \u00e5 opprette en pull-request mot dette repo-et .","title":"Kafka topics"},{"location":"eventtyper/oppgave/topic/#kafka-topics","text":"Milj\u00f8 Topic-navn dev aapen-brukernotifikasjon-oppgave-v1 prod aapen-brukernotifikasjon-oppgave-v1","title":"Kafka topics"},{"location":"eventtyper/oppgave/topic/#tilgang","text":"Tilgang til topic-ene kan bestilles ved \u00e5 opprette en pull-request mot dette repo-et .","title":"Tilgang"},{"location":"eventtyper/statusoppdatering/beskrivelse/","text":"Beskrivelse Hvis en sak eller s\u00f8knad i et fagsystem har endret status kan produsenten sende et Statusoppdatering-event . Dette kan for eksempel vises p\u00e5 en saksprosess-side. P\u00e5 bilde under ser du en kombinasjon av Beskjed , Oppgave og Statusoppdaterings -event.","title":"Beskrivelse"},{"location":"eventtyper/statusoppdatering/beskrivelse/#beskrivelse","text":"Hvis en sak eller s\u00f8knad i et fagsystem har endret status kan produsenten sende et Statusoppdatering-event . Dette kan for eksempel vises p\u00e5 en saksprosess-side. P\u00e5 bilde under ser du en kombinasjon av Beskjed , Oppgave og Statusoppdaterings -event.","title":"Beskrivelse"},{"location":"eventtyper/statusoppdatering/felter/","text":"Feltbeskrivelser NokkelInput (Kafka key) Se NokkelInput StatusoppdateringInput (Kafka value) Beskrivelse av feltene til eventet Statusoppdatering . Husk \u00e5 validere alle eventene med builderene v\u00e5re. Les mer om dette her . tidspunkt Et tidspunkt som noe skjedde, f.eks. da saksbehandlingen av en s\u00f8knad var ferdig. Bruk UTC som tidssone. link Dette er lenken som blir aktivert i det en bruker trykker p\u00e5 selve eventet. En lenke m\u00e5 v\u00e6re en komplett URL, inkludert https protokoll. Feltet har en begrensning p\u00e5 200 tegn. Produsenten kan sende inn en tom String. Da vil ikke link v\u00e6re synlig for sluttbruker. sakstema Dette er sakstema til s\u00f8knaden/saken. For eksempel fra kodeverket. Feltet har en begrensning p\u00e5 50 tegn og kan ikke v\u00e6re null. statusGlobal Produsenten m\u00e5 velge \u00e9n av v\u00e5re fire globale statuser: SENDT, MOTTATT, UNDER_BEHANDLING eller FERDIG. sikkerhetsnivaa (valgfri) Angir sikkerhetsniv\u00e5et for informasjonen som eventet innholder. Kan inneholde verdien 3 eller 4 , default verdi er 4 . DittNAV st\u00f8tter at en bruker er innlogget p\u00e5 niv\u00e5 3, hvis denne brukeren har eventer med niv\u00e5 4 s\u00e5 vil disse eventene bli \"gr\u00e5et ut\". Brukeren ser bare hvilken type event dette er, men ikke noe av innholdet. For \u00e5 se innholdet m\u00e5 brukeren steppe opp til et h\u00f8yere innloggingsniv\u00e5. statusIntern (valgfri) StatusIntern kan v\u00e6re mer detaljert, f.eks Venter p\u00e5 dokumentasjon. Produsenten kan selv velge teksten i statusIntern. Feltet har en begrensning p\u00e5 100 tegn. Schemas Statusoppdatering-schemas p\u00e5 Github.","title":"Feltbeskrivelser"},{"location":"eventtyper/statusoppdatering/felter/#feltbeskrivelser","text":"","title":"Feltbeskrivelser"},{"location":"eventtyper/statusoppdatering/felter/#nokkelinput-kafka-key","text":"Se NokkelInput","title":"NokkelInput (Kafka key)"},{"location":"eventtyper/statusoppdatering/felter/#statusoppdateringinput-kafka-value","text":"Beskrivelse av feltene til eventet Statusoppdatering . Husk \u00e5 validere alle eventene med builderene v\u00e5re. Les mer om dette her .","title":"StatusoppdateringInput (Kafka value)"},{"location":"eventtyper/statusoppdatering/felter/#tidspunkt","text":"Et tidspunkt som noe skjedde, f.eks. da saksbehandlingen av en s\u00f8knad var ferdig. Bruk UTC som tidssone.","title":"tidspunkt"},{"location":"eventtyper/statusoppdatering/felter/#link","text":"Dette er lenken som blir aktivert i det en bruker trykker p\u00e5 selve eventet. En lenke m\u00e5 v\u00e6re en komplett URL, inkludert https protokoll. Feltet har en begrensning p\u00e5 200 tegn. Produsenten kan sende inn en tom String. Da vil ikke link v\u00e6re synlig for sluttbruker.","title":"link"},{"location":"eventtyper/statusoppdatering/felter/#sakstema","text":"Dette er sakstema til s\u00f8knaden/saken. For eksempel fra kodeverket. Feltet har en begrensning p\u00e5 50 tegn og kan ikke v\u00e6re null.","title":"sakstema"},{"location":"eventtyper/statusoppdatering/felter/#statusglobal","text":"Produsenten m\u00e5 velge \u00e9n av v\u00e5re fire globale statuser: SENDT, MOTTATT, UNDER_BEHANDLING eller FERDIG.","title":"statusGlobal"},{"location":"eventtyper/statusoppdatering/felter/#sikkerhetsnivaa-valgfri","text":"Angir sikkerhetsniv\u00e5et for informasjonen som eventet innholder. Kan inneholde verdien 3 eller 4 , default verdi er 4 . DittNAV st\u00f8tter at en bruker er innlogget p\u00e5 niv\u00e5 3, hvis denne brukeren har eventer med niv\u00e5 4 s\u00e5 vil disse eventene bli \"gr\u00e5et ut\". Brukeren ser bare hvilken type event dette er, men ikke noe av innholdet. For \u00e5 se innholdet m\u00e5 brukeren steppe opp til et h\u00f8yere innloggingsniv\u00e5.","title":"sikkerhetsnivaa (valgfri)"},{"location":"eventtyper/statusoppdatering/felter/#statusintern-valgfri","text":"StatusIntern kan v\u00e6re mer detaljert, f.eks Venter p\u00e5 dokumentasjon. Produsenten kan selv velge teksten i statusIntern. Feltet har en begrensning p\u00e5 100 tegn.","title":"statusIntern (valgfri)"},{"location":"eventtyper/statusoppdatering/felter/#schemas","text":"Statusoppdatering-schemas p\u00e5 Github.","title":"Schemas"},{"location":"eventtyper/statusoppdatering/topic/","text":"Kafka topics Milj\u00f8 Topic-navn dev aapen-brukernotifikasjon-statusoppdatering-v1 prod aapen-brukernotifikasjon-statusoppdatering-v1 Tilgang Tilgang til topic-ene kan bestilles ved \u00e5 opprette en pull-request mot dette repo-et .","title":"Kafka topics"},{"location":"eventtyper/statusoppdatering/topic/#kafka-topics","text":"Milj\u00f8 Topic-navn dev aapen-brukernotifikasjon-statusoppdatering-v1 prod aapen-brukernotifikasjon-statusoppdatering-v1","title":"Kafka topics"},{"location":"eventtyper/statusoppdatering/topic/#tilgang","text":"Tilgang til topic-ene kan bestilles ved \u00e5 opprette en pull-request mot dette repo-et .","title":"Tilgang"}]}